<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home ¬∑ Fastback.jl</title><meta name="title" content="Home ¬∑ Fastback.jl"/><meta property="og:title" content="Home ¬∑ Fastback.jl"/><meta property="twitter:title" content="Home ¬∑ Fastback.jl"/><meta name="description" content="Documentation for Fastback.jl."/><meta property="og:description" content="Documentation for Fastback.jl."/><meta property="twitter:description" content="Documentation for Fastback.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><script type="module" defer>
    import { codeToHtml } from 'https://esm.sh/shiki@1.3.0'

    async function highlightCode(lang, el) {
        const code = el.textContent
        if (lang == "julia-repl")
            lang = "julia"
        try {
            el.outerHTML = await codeToHtml(code, {
                lang: lang,
                theme: 'monokai',
                //theme: 'github-light-default',
                //theme: 'github-dark-dimmed',
                //theme: 'dark-plus',
                //themes: {
                //    light: 'github-dark-dimmed',
                //    dark: 'github-dark',
                //}
            })
        } catch (e) {
            console.error(`Failed to highlight code on element with class="${el.classList}" using shiki: `, e)
        }
    }

    document.addEventListener('DOMContentLoaded', async function() {
        console.log('run code highlighting using shiki')
        const els = document.querySelectorAll("code[class^='language-']")
        const promises = []
        for (const el of els) {
            const cls = Array.from(el.classList).filter(x => x.startsWith("language-"))
            if (!cls.length)
                continue
            const lang = cls[0].substring(9)
            el.classList.add('shiki-highlighted')
            
            promises.push(highlightCode(lang, el))
        }
        await Promise.all(promises)
    })
</script>
<link href="assets/styles.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img class="docs-light-only" src="assets/logo.png" alt="Fastback.jl logo"/><img class="docs-dark-only" src="assets/logo-dark.png" alt="Fastback.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Hello-world-backtest"><span>Hello world backtest</span></a></li><li><a class="tocitem" href="#Features"><span>Features</span></a></li><li><a class="tocitem" href="#Documentation-and-Examples"><span>Documentation &amp; Examples</span></a></li><li><a class="tocitem" href="#Changelog"><span>Changelog</span></a></li><li><a class="tocitem" href="#Bug-reports-and-feature-requests"><span>Bug reports and feature requests</span></a></li></ul></li><li><a class="tocitem" href="getting_started/">Getting started</a></li><li><a class="tocitem" href="basic_setup/">Basic setup</a></li><li><a class="tocitem" href="concepts/">Accounting model and event loop</a></li><li><a class="tocitem" href="execution_errors/">Execution and errors</a></li><li><a class="tocitem" href="pitfalls/">Pitfalls and gotchas</a></li><li><a class="tocitem" href="how_to/">How-to</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="examples/gen/1_random_trading/">Random trading</a></li><li><a class="tocitem" href="examples/gen/2_portfolio_trading/">Portfolio trading</a></li><li><a class="tocitem" href="examples/gen/3_multi_currency/">Multi-Currency trading</a></li><li><a class="tocitem" href="examples/gen/4_USDm_perp_trading/">USD-M perpetual trading</a></li><li><a class="tocitem" href="examples/gen/5_VOO_vs_MES_comparison/">VOO vs MES cost comparison</a></li></ul></li><li><span class="tocitem">Plotting</span><ul><li><a class="tocitem" href="plotting/gen/1_plots_extension/">Plots extensions</a></li></ul></li><li><span class="tocitem">Integrations</span><ul><li><a class="tocitem" href="integrations/">Overview</a></li><li><a class="tocitem" href="integrations/gen/1_Tables_integration/">Tables.jl</a></li><li><a class="tocitem" href="integrations/gen/2_NanoDates_integration/">NanoDates.jl</a></li><li><a class="tocitem" href="integrations/gen/3_Timestamps64_integration/">Timestamps64.jl</a></li></ul></li><li><a class="tocitem" href="api_index/">API index</a></li><li><a class="tocitem" href="glossary/">Glossary</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/rbeeli/Fastback.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/rbeeli/Fastback.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Fastback.jl-Blazingly-fast-Julia-backtester"><a class="docs-heading-anchor" href="#Fastback.jl-Blazingly-fast-Julia-backtester">Fastback.jl - Blazingly fast Julia backtester üöÄ</a><a id="Fastback.jl-Blazingly-fast-Julia-backtester-1"></a><a class="docs-heading-anchor-permalink" href="#Fastback.jl-Blazingly-fast-Julia-backtester" title="Permalink"></a></h1><p><a href="https://github.com/rbeeli/Fastback.jl/blob/main/LICENSE"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License"/></a> <img src="https://img.shields.io/maintenance/yes/2026" alt="Maintenance"/> <a href="https://rbeeli.github.io/Fastback.jl/"><img src="https://img.shields.io/badge/docs-stable-blue.svg" alt="Documentation"/></a></p><p>Fastback provides a lightweight, flexible and highly efficient event-based backtesting library for quantitative trading strategies.</p><p>Fastback focuses on deterministic accounting: it tracks open positions, balances, equity, margin, and cashflows across multiple currencies. The execution pipeline supports broker-driven commissions/financing and partial fills; slippage and delays are modeled by the timestamps and fill prices you pass in.</p><p>Fastback does not try to model every aspect of a trading system, e.g. data ingestion, strategy logic, OMS/execution gateways, or logging. Instead, it provides basic building blocks for creating a custom backtesting environment that is easy to understand and extend. Broker behavior is intentionally lightweight and pluggable via broker profiles (for commissions and financing schedules). For example, Fastback has no notion of &quot;strategy&quot; or &quot;indicator&quot;; such constructs are highly strategy specific, and therefore up to the user to define.</p><p>The event-based architecture aims to mimic how real-world trading systems ingest streaming data. You drive the engine with explicit mark, FX, and funding updates, plus optional expiry and liquidation steps, which reduces the implementation gap to live execution compared to vectorized backtesting frameworks.</p><h2 id="Hello-world-backtest"><a class="docs-heading-anchor" href="#Hello-world-backtest">Hello world backtest</a><a id="Hello-world-backtest-1"></a><a class="docs-heading-anchor-permalink" href="#Hello-world-backtest" title="Permalink"></a></h2><pre><code class="language-julia hljs">using Fastback
using Dates

acc = Account(;
    broker=FlatFeeBroker(pct=0.001),
    funding=AccountFunding.FullyFunded,
    base_currency=CashSpec(:USD),
)
usd = cash_asset(acc, :USD)
deposit!(acc, usd, 10_000.0)
inst = register_instrument!(acc, spot_instrument(:ABC, :ABC, :USD))

dts = [DateTime(2024, 1, 1) + Hour(i) for i in 0:3]
prices = [100.0, 101.0, 102.0, 101.5]

collect_equity, equity_data = periodic_collector(Float64, Hour(1))

for (dt, price) in zip(dts, prices)
    update_marks!(acc, inst, dt, price, price, price)
    if dt == dts[1]
        order = Order(oid!(acc), inst, dt, price, 10.0)
        fill_order!(acc, order; dt=dt, fill_price=price, bid=price, ask=price, last=price)
    elseif dt == dts[end]
        pos = get_position(acc, inst)
        order = Order(oid!(acc), inst, dt, price, -pos.quantity)
        fill_order!(acc, order; dt=dt, fill_price=price, bid=price, ask=price, last=price)
    end

    if should_collect(equity_data, dt)
        collect_equity(dt, equity(acc, usd))
    end
end

equity(acc, usd)

# Plots (requires Plots.jl)
using Plots
Fastback.plot_equity(equity_data)</code></pre><p>See <a href="getting_started/">Getting started</a> for a runnable walkthrough and next steps.</p><h2 id="Features"><a class="docs-heading-anchor" href="#Features">Features</a><a id="Features-1"></a><a class="docs-heading-anchor-permalink" href="#Features" title="Permalink"></a></h2><ul><li>Event-driven accounting engine with explicit event processing (<code>process_step!</code>) for marks, FX, funding, expiries, and optional liquidation</li><li>Instruments: spot (including spot-on-margin), perpetuals, and futures with lifecycle guards (start/expiry), optional contract multipliers, and settlement styles (<code>PrincipalExchange</code>/<code>VariationMargin</code>)</li><li>Funding policies: fully funded or margined; per-currency or base-currency margin aggregation; percent-notional or fixed-per-contract margin requirements</li><li>Broker profiles for commissions/financing (e.g. flat-fee, IBKR-style, Binance-style)</li><li>Multi-currency cash book with FX conversion helpers and base-currency metrics</li><li>Execution &amp; risk: broker-driven commissions, partial fills, liquidation-aware marking (bid/ask/last), and initial/maintenance margin checks</li><li>Netted positions with weighted-average cost, realized/unrealized P&amp;L, and a cashflow ledger + accrual helpers (lend/borrow interest, broker-defined short-proceeds treatment, borrow fees on principal-exchange spot shorts, funding, variation margin)</li><li>Expiry handling for futures (auto-close via synthetic close) plus deterministic liquidation helpers</li><li>Collectors (periodic, predicate, drawdown, min/max) and Tables.jl views for balances, equity, positions, trades, cashflows; pretty-print helpers</li><li>Batch backtesting and parameter sweeps with threaded runner and ETA logging</li><li>Integrations<ul><li><a href="https://github.com/JuliaPlots/Plots.jl">Plots.jl</a> and <a href="https://github.com/JuliaPlots/StatsPlots.jl">StatsPlots.jl</a> for optional visualization helpers (via <code>FastbackPlotsExt</code>)</li><li><a href="https://juliatime.github.io/NanoDates.jl/stable/">NanoDates.jl</a> for nanosecond timestamps</li><li><a href="https://rbeeli.github.io/Timestamps64.jl/stable/">Timestamps64.jl</a> for efficient nanosecond timestamps</li></ul></li></ul><h2 id="Documentation-and-Examples"><a class="docs-heading-anchor" href="#Documentation-and-Examples">Documentation &amp; Examples</a><a id="Documentation-and-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation-and-Examples" title="Permalink"></a></h2><p>Full documentation and examples are available at <a href="https://rbeeli.github.io/Fastback.jl/">Fastback.jl documentation page</a>.</p><h2 id="Changelog"><a class="docs-heading-anchor" href="#Changelog">Changelog</a><a id="Changelog-1"></a><a class="docs-heading-anchor-permalink" href="#Changelog" title="Permalink"></a></h2><p>See the <a href="https://github.com/rbeeli/Fastback.jl/blob/main/CHANGELOG.md">CHANGELOG</a>.</p><h2 id="Bug-reports-and-feature-requests"><a class="docs-heading-anchor" href="#Bug-reports-and-feature-requests">Bug reports and feature requests</a><a id="Bug-reports-and-feature-requests-1"></a><a class="docs-heading-anchor-permalink" href="#Bug-reports-and-feature-requests" title="Permalink"></a></h2><p>Please report any issues via the <a href="https://github.com/rbeeli/Fastback.jl/issues">GitHub issue tracker</a>.</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="getting_started/">Getting started ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.0 on <span class="colophon-date" title="Sunday 22 February 2026 00:48">Sunday 22 February 2026</span>. Using Julia version 1.12.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
